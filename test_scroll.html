<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ»šåŠ¨æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .long-content {
            background: #e9ecef;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
        }
        
        .scroll-test {
            height: 300px;
            overflow-y: auto;
            border: 2px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            background: white;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
        }
        
        button:hover {
            background: #5a67d8;
        }
        
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ¯ é¡µé¢æ»šåŠ¨åŠŸèƒ½æµ‹è¯•</h1>
        
        <div class="test-section">
            <h2>å½“å‰æ»šåŠ¨çŠ¶æ€</h2>
            <div id="scrollStatus" class="status info">
                ç­‰å¾…æ£€æµ‹...
            </div>
            <div class="button-group">
                <button onclick="checkScroll()">æ£€æµ‹æ»šåŠ¨çŠ¶æ€</button>
                <button onclick="testPageScroll()">æµ‹è¯•é¡µé¢æ»šåŠ¨</button>
                <button onclick="scrollToBottom()">æ»šåŠ¨åˆ°åº•éƒ¨</button>
                <button onclick="scrollToTop()">æ»šåŠ¨åˆ°é¡¶éƒ¨</button>
            </div>
        </div>
        
        <div class="test-section">
            <h2>é¡µé¢æ»šåŠ¨æµ‹è¯•å†…å®¹</h2>
            <p>è¿™æ˜¯ä¸€ä¸ªé•¿é¡µé¢ï¼Œç”¨äºæµ‹è¯•é¡µé¢æ˜¯å¦å¯ä»¥æ­£å¸¸å‘ä¸‹æ»šåŠ¨ã€‚</p>
            
            <div class="long-content">
                <h3>å†…å®¹å— 1</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            </div>
            
            <div class="long-content">
                <h3>å†…å®¹å— 2</h3>
                <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
                <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>å†…éƒ¨æ»šåŠ¨åŒºåŸŸæµ‹è¯•</h2>
            <div class="scroll-test" id="innerScroll">
                <h3>è¿™æ˜¯ä¸€ä¸ªå¯æ»šåŠ¨çš„å†…éƒ¨åŒºåŸŸ</h3>
                <p>è¡Œ 1: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 2: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 3: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 4: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 5: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 6: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 7: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 8: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 9: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 10: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 11: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 12: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 13: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 14: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 15: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 16: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 17: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 18: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 19: æµ‹è¯•å†…å®¹</p>
                <p>è¡Œ 20: æµ‹è¯•å†…å®¹</p>
            </div>
        </div>
        
        <!-- æ·»åŠ æ›´å¤šå†…å®¹ä»¥ç¡®ä¿é¡µé¢è¶³å¤Ÿé•¿ -->
        <div class="test-section">
            <h2>é¢å¤–å†…å®¹åŒºåŸŸ</h2>
            <div class="long-content">
                <h3>å†…å®¹å— 3</h3>
                <p>è¿™é‡Œæ˜¯æ›´å¤šçš„å†…å®¹ï¼Œç”¨äºç¡®ä¿é¡µé¢æœ‰è¶³å¤Ÿçš„é«˜åº¦æ¥æµ‹è¯•æ»šåŠ¨åŠŸèƒ½ã€‚</p>
                <p>å½“é¡µé¢å†…å®¹è¶…è¿‡è§†çª—é«˜åº¦æ—¶ï¼Œåº”è¯¥èƒ½å¤Ÿæ­£å¸¸å‘ä¸‹æ»šåŠ¨ã€‚</p>
            </div>
            
            <div class="long-content">
                <h3>å†…å®¹å— 4</h3>
                <p>ç»§ç»­æ·»åŠ å†…å®¹ä»¥å¢åŠ é¡µé¢é«˜åº¦ã€‚</p>
                <p>æµ‹è¯•åœ¨ä¸åŒåˆ†è¾¨ç‡å’Œè®¾å¤‡ä¸Šçš„æ»šåŠ¨è¡¨ç°ã€‚</p>
            </div>
            
            <div class="long-content">
                <h3>å†…å®¹å— 5</h3>
                <p>æ›´å¤šæµ‹è¯•å†…å®¹ã€‚</p>
                <p>ç¡®ä¿æ»šåŠ¨æ¡æ­£å¸¸æ˜¾ç¤ºå’Œå·¥ä½œã€‚</p>
            </div>
        </div>
        
        <div class="test-section">
            <h2>æ»šåŠ¨ä¿¡æ¯</h2>
            <div id="scrollInfo" style="font-family: monospace; background: #f4f4f4; padding: 10px; border-radius: 6px;">
                ç­‰å¾…æ£€æµ‹...
            </div>
        </div>
        
        <div style="height: 500px; background: linear-gradient(to bottom, #f0f0f0, #e0e0e0); display: flex; align-items: center; justify-content: center; margin: 30px 0; border-radius: 8px;">
            <h2 style="color: #666;">è¿™æ˜¯é¡µé¢åº•éƒ¨åŒºåŸŸ</h2>
        </div>
    </div>
    
    <script>
        // æ£€æµ‹æ»šåŠ¨çŠ¶æ€
        function checkScroll() {
            const status = document.getElementById('scrollStatus');
            const info = document.getElementById('scrollInfo');
            
            // æ£€æµ‹bodyå’ŒdocumentElementçš„æ»šåŠ¨
            const bodyScrollable = document.body.scrollHeight > window.innerHeight;
            const htmlScrollable = document.documentElement.scrollHeight > window.innerHeight;
            const currentScrollY = window.scrollY || window.pageYOffset;
            const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
            
            const scrollData = {
                'é¡µé¢é«˜åº¦': document.documentElement.scrollHeight + 'px',
                'è§†çª—é«˜åº¦': window.innerHeight + 'px',
                'å½“å‰æ»šåŠ¨ä½ç½®': currentScrollY + 'px',
                'æœ€å¤§æ»šåŠ¨è·ç¦»': maxScroll + 'px',
                'Bodyå¯æ»šåŠ¨': bodyScrollable ? 'æ˜¯' : 'å¦',
                'HTMLå¯æ»šåŠ¨': htmlScrollable ? 'æ˜¯' : 'å¦',
                'Body overflow-y': window.getComputedStyle(document.body).overflowY,
                'HTML overflow-y': window.getComputedStyle(document.documentElement).overflowY
            };
            
            info.innerHTML = Object.entries(scrollData)
                .map(([key, value]) => `${key}: ${value}`)
                .join('\n');
            
            if (bodyScrollable || htmlScrollable) {
                status.className = 'status success';
                status.textContent = 'âœ… é¡µé¢å¯ä»¥æ­£å¸¸æ»šåŠ¨';
            } else {
                status.className = 'status error';
                status.textContent = 'âŒ é¡µé¢æ— æ³•æ»šåŠ¨ï¼ˆå†…å®¹ä¸å¤Ÿé•¿æˆ–è¢«CSSé˜»æ­¢ï¼‰';
            }
        }
        
        // æµ‹è¯•é¡µé¢æ»šåŠ¨
        function testPageScroll() {
            window.scrollTo({
                top: 200,
                behavior: 'smooth'
            });
            
            setTimeout(() => {
                if (window.scrollY > 0) {
                    alert('âœ… æ»šåŠ¨æµ‹è¯•æˆåŠŸï¼é¡µé¢å·²æ»šåŠ¨åˆ° ' + window.scrollY + 'px');
                } else {
                    alert('âŒ æ»šåŠ¨æµ‹è¯•å¤±è´¥ï¼é¡µé¢æ— æ³•æ»šåŠ¨');
                }
                checkScroll();
            }, 500);
        }
        
        // æ»šåŠ¨åˆ°åº•éƒ¨
        function scrollToBottom() {
            window.scrollTo({
                top: document.documentElement.scrollHeight,
                behavior: 'smooth'
            });
            setTimeout(checkScroll, 500);
        }
        
        // æ»šåŠ¨åˆ°é¡¶éƒ¨
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
            setTimeout(checkScroll, 500);
        }
        
        // ç›‘å¬æ»šåŠ¨äº‹ä»¶
        window.addEventListener('scroll', () => {
            const info = document.getElementById('scrollInfo');
            const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight) * 100).toFixed(1);
            
            const lastLine = `å®æ—¶æ»šåŠ¨è¿›åº¦: ${scrollPercent}%`;
            const lines = info.textContent.split('\n');
            if (lines[lines.length - 1].startsWith('å®æ—¶æ»šåŠ¨è¿›åº¦')) {
                lines[lines.length - 1] = lastLine;
            } else {
                lines.push(lastLine);
            }
            info.textContent = lines.join('\n');
        });
        
        // é¡µé¢åŠ è½½æ—¶æ£€æµ‹
        window.onload = () => {
            checkScroll();
            
            // æµ‹è¯•å†…éƒ¨æ»šåŠ¨åŒºåŸŸ
            const innerScroll = document.getElementById('innerScroll');
            innerScroll.addEventListener('scroll', () => {
                console.log('å†…éƒ¨åŒºåŸŸæ»šåŠ¨ä½ç½®:', innerScroll.scrollTop);
            });
        };
    </script>
</body>
</html>